//check docker status
docker ps
docker images
// SQL Server container
docker run -e 'ACCEPT_EULA=Y' -e 'SA_PASSWORD=Pwd!4321' -p 1433:1433 -d mcr.microsoft.com/mssql/server
// because of warning on single quotes
docker run -e "ACCEPT_EULA=Y" -e "SA_PASSWORD=Pwd!4321" -p 1433:1433 -d mcr.microsoft.com/mssql/server
// docker ps -a to get sql server container id
9b18252ba769 
// server container not running initially. 
// trying some things from MS Docs site: 
// https://docs.microsoft.com/en-us/sql/linux/sql-server-linux-docker-container-deployment?view=sql-server-2017&pivots=cs1-cmd#pull-and-run-the-container-image
// like this bash script I will run in the Docker app:
docker exec -it 9b18252ba769 "bash"
// Connect via CMD
sqlcmd -S 192.168.65.0/28 -U SA -P "Pwd!4321"
sqlcmd -S 192.168.65.0 -U SA -P "Pwd!4321"
sqlcmd -S 192.168.65.0,1433 -U SA -P "Pwd!4321"
localhost:1433
// initial pw+log = guest and guest


// Swagger / Postman test inputs
// POST: add basket / cart
{  
  "userName": "YoBroMexico",
  "items": [
    {
      "color": "Nacho Cheese",
      "price": 50,
      "productId": "999",
      "productName": "Hello Kitty Inedible Cheeze Spread",
      "quantity": 4
    },
    {
      "color": "Stankonia",
      "price": 10,
      "productId": "1234567",
      "productName": "Hello Dolly Freemium Dreamium",
      "quantity": 1
    }
  ]
}

// POST: checkout

// more details
{
  "addressLine": "124 three street",
  "cardName": "Visa",
  "cardNumber": "1234567891011121",
  "country": "This Land is Our Land",
  "cvv": "123",
  "emailAddress": "dingdong@thewitchis.dead",
  "expiration": "0224",
  "firstName": "Yo",
  "lastName": "Mexico",
  "paymentMethod": 1,
  "totalPrice": 210,
  "userName": "YoBroMexico",
  "zipCode": "12345"
}
{
  "userName": "YoBroMexico",
  "totalPrice": 210,
  "firstName": "",
  "lastName": "",
  "emailAddress": "",
  "addressLine": "",
  "country": "",
  "zipCode": "55555",
  "cardName": "Visa",
  "cardNumber": "1111222244443333",
  "expiration": "0424",
  "cvv": "777",
  "paymentMethod": 1
}
{
  "userName": "string",
  "totalPrice": 0,
  "firstName": "string",
  "lastName": "string",
  "emailAddress": "string",
  "addressLine": "string",
  "country": "string",
  "zipCode": "string",
  "cardName": "string",
  "cardNumber": "string",
  "expiration": "string",
  "cvv": "string",
  "paymentMethod": 0
}



//Docker image cmd
docker ps --format "table {{.ID}}\t{{.Image}}\t{{.Command}}\t{{.Ports}}"

docker ps --format "table {{.ID}}\t{{.Image}}\t{{.Command}}\t{{.State}}\t{{.Status}}"

docker images
// stop all running containers, 
// ie: 1st 2 chars of container id
docker stop 1a
docker stop 2b
// check again for all stopped, ie: docker ps
docker-compose -f docker-compose.yml -f docker-compose.override.yml up -d
// sometimes need to remove image to build updated vsn
// (like you don't see new endpoints in swagger/index)
docker rmi 1a
// if image cannot remove because inside container, 
// remove container instead. first view all containers
docker ps -a
docker rm 1a
// remove all containers if it's been awhile?
docker ps -a
docker images
// remove some or all images
docker rmi 1a
// only removed a couple images that weren't showing 
// recent changes... and that's ok, can build 
// containers again and will only build what's needed
docker-compose -f docker-compose.yml -f docker-compose.override.yml up -d
// docker build said this, so maybe should use 
// build cmd in future, not delete containers...?
// ***
// WARNING: Image for service basket.api was built because it did not already exist. To rebuild this image you must use `docker-compose build` or `docker-compose up --build`.
// ***
// so... this?
docker-compose -f docker-compose.yml -f docker-compose.override.yml up --build
// or this?
docker-compose up --build -f docker-compose.yml -f docker-compose.override.yml up -d
